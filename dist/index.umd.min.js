/*!
 * @meeshkanml/json-schema-faker v0.0.0
 * (c) Alvaro Cabrera <pateketrueke@gmail.com> (https://soypache.co)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("util"),require("fs"),require("url"),require("http"),require("https"),require("jsonpath-plus")):"function"==typeof define&&define.amd?define(["util","fs","url","http","https","jsonpath-plus"],t):(e=e||self).JSONSchemaFaker=t(e.util$1,e.fs,e.url,e.http,e.https,e.jsonpathPlus)}(this,function(e,t,n,r,i,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,i=i&&i.hasOwnProperty("default")?i.default:i;var a={order:100,allowEmpty:!0,canParse:".json",parse:e=>new Promise((t,n)=>{let r=e.data;Buffer.isBuffer(r)&&(r=r.toString()),"string"==typeof r?0===r.trim().length?t(void 0):t(JSON.parse(r)):t(r)})};function s(e){return null==e}var u={isNothing:s,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:s(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,i,o;if(t)for(n=0,r=(o=Object.keys(t)).length;n<r;n+=1)e[i=o[n]]=t[i];return e}};function l(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t};var c=l;function f(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}f.prototype.getSnippet=function(e,t){var n,r,i,o,a;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",r=this.position;r>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){n=" ... ",r+=5;break}for(i="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>t/2-1){i=" ... ",o-=5;break}return a=this.buffer.slice(r,o),u.repeat(" ",e)+n+a+i+"\n"+u.repeat(" ",e+this.position-r+n.length)+"^"},f.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n};var p=f,h=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],d=["scalar","sequence","mapping"];var m=function(e,t){var n,r;if(t=t||{},Object.keys(t).forEach(function(t){if(-1===h.indexOf(t))throw new c('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(n=t.styleAliases||null,r={},null!==n&&Object.keys(n).forEach(function(e){n[e].forEach(function(t){r[String(t)]=e})}),r),-1===d.indexOf(this.kind))throw new c('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function g(e,t,n){var r=[];return e.include.forEach(function(e){n=g(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function y(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new c("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=g(this,"implicit",[]),this.compiledExplicit=g(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}y.DEFAULT=null,y.create=function(){var e,t;switch(arguments.length){case 1:e=y.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new c("Wrong number of arguments for Schema.create function")}if(e=u.toArray(e),t=u.toArray(t),!e.every(function(e){return e instanceof y}))throw new c("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof m}))throw new c("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new y({include:e,explicit:t})};var v=y,b=new v({explicit:[new m("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new m("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new m("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]});var w=new m("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});var x=new m("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function A(e){return 48<=e&&e<=55}function O(e){return 48<=e&&e<=57}var k=new m("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,i=0,o=!1;if(!r)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===r)return!0;if("b"===(t=e[++i])){for(i++;i<r;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&"_"!==t}for(;i<r;i++)if("_"!==(t=e[i])){if(!A(e.charCodeAt(i)))return!1;o=!0}return o&&"_"!==t}if("_"===t)return!1;for(;i<r;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!O(e.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,n,r=e,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(i=-1),t=(r=r.slice(1))[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),r=0,n=1,o.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!u.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),E=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var C=/^[-+]?[0-9]+e/;var j=new v({include:[b],implicit:[w,x,k,new m("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!E.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,r,i;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||u.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(u.isNegativeZero(e))return"-0.0";return n=e.toString(10),C.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})]}),I=new v({include:[j]}),S=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),R=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var $=new m("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==S.exec(e)||null!==R.exec(e))},construct:function(e){var t,n,r,i,o,a,s,u,l=0,c=null;if(null===(t=S.exec(e))&&(t=R.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],a=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(c=-c)),u=new Date(Date.UTC(n,r,i,o,a,s,l)),c&&u.setTime(u.getTime()-c),u},instanceOf:Date,represent:function(e){return e.toISOString()}});var P,_=new m("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}});try{var T=require;P=T("buffer").Buffer}catch(e){}var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var N=new m("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length,o=M;for(n=0;n<i;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=M,a=0,s=[];for(t=0;t<i;t++)t%4==0&&t&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|o.indexOf(r.charAt(t));return 0==(n=i%4*6)?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):18===n?(s.push(a>>10&255),s.push(a>>2&255)):12===n&&s.push(a>>4&255),P?P.from?P.from(s):new P(s):s},predicate:function(e){return P&&P.isBuffer(e)},represent:function(e){var t,n,r="",i=0,o=e.length,a=M;for(t=0;t<o;t++)t%3==0&&t&&(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]),i=(i<<8)+e[t];return 0==(n=o%3)?(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]):2===n?(r+=a[i>>10&63],r+=a[i>>4&63],r+=a[i<<2&63],r+=a[64]):1===n&&(r+=a[i>>2&63],r+=a[i<<4&63],r+=a[64],r+=a[64]),r}}),F=Object.prototype.hasOwnProperty,L=Object.prototype.toString;var H=new m("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,a=[],s=e;for(t=0,n=s.length;t<n;t+=1){if(r=s[t],o=!1,"[object Object]"!==L.call(r))return!1;for(i in r)if(F.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==a.indexOf(i))return!1;a.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),D=Object.prototype.toString;var B=new m("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(r=a[t],"[object Object]"!==D.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;o[t]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)r=a[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}}),U=Object.prototype.hasOwnProperty;var q=new v({include:[I],implicit:[$,_],explicit:[N,H,B,new m("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(U.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})]});var G=new m("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}});var Y,z=new m("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}});try{var J=require;Y=J("esprima")}catch(e){"undefined"!=typeof window&&(Y=window.esprima)}var Z=new m("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=Y.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",r=Y.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(e){i.push(e.name)}),t=r.body[0].expression.body.range,"BlockStatement"===r.body[0].expression.body.type?new Function(i,n.slice(t[0]+1,t[1]-1)):new Function(i,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}}),W=v.DEFAULT=new v({include:[q],explicit:[G,z,Z]}),V=Object.prototype.hasOwnProperty,K=1,X=2,Q=3,ee=4,te=1,ne=2,re=3,ie=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oe=/[\x85\u2028\u2029]/,ae=/[,\[\]\{\}]/,se=/^(?:!|!!|![a-z\-]+!)$/i,ue=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function le(e){return Object.prototype.toString.call(e)}function ce(e){return 10===e||13===e}function fe(e){return 9===e||32===e}function pe(e){return 9===e||32===e||10===e||13===e}function he(e){return 44===e||91===e||93===e||123===e||125===e}function de(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function me(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function ge(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var ye=new Array(256),ve=new Array(256),be=0;be<256;be++)ye[be]=me(be)?1:0,ve[be]=me(be);function we(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||W,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function xe(e,t){return new c(t,new p(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function Ae(e,t){throw xe(e,t)}function Oe(e,t){e.onWarning&&e.onWarning.call(null,xe(e,t))}var ke={YAML:function(e,t,n){var r,i,o;null!==e.version&&Ae(e,"duplication of %YAML directive"),1!==n.length&&Ae(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Ae(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&Ae(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&Oe(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&Ae(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],se.test(r)||Ae(e,"ill-formed tag handle (first argument) of the TAG directive"),V.call(e.tagMap,r)&&Ae(e,'there is a previously declared suffix for "'+r+'" tag handle'),ue.test(i)||Ae(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};function Ee(e,t,n,r){var i,o,a,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||Ae(e,"expected valid JSON character");else ie.test(s)&&Ae(e,"the stream contains non-printable characters");e.result+=s}}function Ce(e,t,n,r){var i,o,a,s;for(u.isObject(n)||Ae(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(i=Object.keys(n)).length;a<s;a+=1)o=i[a],V.call(t,o)||(t[o]=n[o],r[o]=!0)}function je(e,t,n,r,i,o,a,s){var u,l;if(Array.isArray(i))for(u=0,l=(i=Array.prototype.slice.call(i)).length;u<l;u+=1)Array.isArray(i[u])&&Ae(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===le(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===le(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)Ce(e,t,o[u],n);else Ce(e,t,o,n);else e.json||V.call(n,i)||!V.call(t,i)||(e.line=a||e.line,e.position=s||e.position,Ae(e,"duplicated mapping key")),t[i]=o,delete n[i];return t}function Ie(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Ae(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Se(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;fe(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!ce(i))break;for(Ie(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&Oe(e,"deficient indentation"),r}function Re(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!pe(t)))}function $e(e,t){1===t?e.result+=" ":t>1&&(e.result+=u.repeat("\n",t-1))}function Pe(e,t){var n,r,i=e.tag,o=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),r=e.input.charCodeAt(e.position);0!==r&&45===r&&pe(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Se(e,!0,-1)&&e.lineIndent<=t)a.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,Me(e,t,Q,!1,!0),a.push(e.result),Se(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)Ae(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=a,!0)}function _e(e){var t,n,r,i,o=!1,a=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Ae(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):Ae(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!pe(i);)33===i&&(a?Ae(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),se.test(n)||Ae(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),ae.test(r)&&Ae(e,"tag suffix cannot contain flow indicator characters")}return r&&!ue.test(r)&&Ae(e,"tag name cannot contain such characters: "+r),o?e.tag=r:V.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:Ae(e,'undeclared tag handle "'+n+'"'),!0}function Te(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Ae(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!pe(n)&&!he(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ae(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Me(e,t,n,r,i){var o,a,s,l,c,f,p,h,d=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=ee===n||Q===n,r&&Se(e,!0,-1)&&(m=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;_e(e)||Te(e);)Se(e,!0,-1)?(m=!0,s=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):s=!1;if(s&&(s=m||i),1!==d&&ee!==n||(p=K===n||X===n?t:t+1,h=e.position-e.lineStart,1===d?s&&(Pe(e,h)||function(e,t,n){var r,i,o,a,s,u=e.tag,l=e.anchor,c={},f={},p=null,h=null,d=null,m=!1,g=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=c),s=e.input.charCodeAt(e.position);0!==s;){if(r=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,63!==s&&58!==s||!pe(r)){if(!Me(e,n,X,!1,!0))break;if(e.line===o){for(s=e.input.charCodeAt(e.position);fe(s);)s=e.input.charCodeAt(++e.position);if(58===s)pe(s=e.input.charCodeAt(++e.position))||Ae(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(je(e,c,f,p,h,null),p=h=d=null),g=!0,m=!1,i=!1,p=e.tag,h=e.result;else{if(!g)return e.tag=u,e.anchor=l,!0;Ae(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!g)return e.tag=u,e.anchor=l,!0;Ae(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(m&&(je(e,c,f,p,h,null),p=h=d=null),g=!0,m=!0,i=!0):m?(m=!1,i=!0):Ae(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=r;if((e.line===o||e.lineIndent>t)&&(Me(e,t,ee,!0,i)&&(m?h=e.result:d=e.result),m||(je(e,c,f,p,h,d,o,a),p=h=d=null),Se(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)Ae(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&je(e,c,f,p,h,null),g&&(e.tag=u,e.anchor=l,e.kind="mapping",e.result=c),g}(e,h,p))||function(e,t){var n,r,i,o,a,s,u,l,c,f,p=!0,h=e.tag,d=e.anchor,m={};if(91===(f=e.input.charCodeAt(e.position)))i=93,s=!1,r=[];else{if(123!==f)return!1;i=125,s=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),f=e.input.charCodeAt(++e.position);0!==f;){if(Se(e,!0,t),(f=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=h,e.anchor=d,e.kind=s?"mapping":"sequence",e.result=r,!0;p||Ae(e,"missed comma between flow collection entries"),c=null,o=a=!1,63===f&&pe(e.input.charCodeAt(e.position+1))&&(o=a=!0,e.position++,Se(e,!0,t)),n=e.line,Me(e,t,K,!1,!0),l=e.tag,u=e.result,Se(e,!0,t),f=e.input.charCodeAt(e.position),!a&&e.line!==n||58!==f||(o=!0,f=e.input.charCodeAt(++e.position),Se(e,!0,t),Me(e,t,K,!1,!0),c=e.result),s?je(e,r,m,l,u,c):o?r.push(je(e,null,m,l,u,c)):r.push(u),Se(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}Ae(e,"unexpected end of the stream within a flow collection")}(e,p)?g=!0:(a&&function(e,t){var n,r,i,o,a,s=te,l=!1,c=!1,f=t,p=0,h=!1;if(124===(o=e.input.charCodeAt(e.position)))r=!1;else{if(62!==o)return!1;r=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)te===s?s=43===o?re:ne:Ae(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(a=o)&&a<=57?a-48:-1)>=0))break;0===i?Ae(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?Ae(e,"repeat of an indentation width identifier"):(f=t+i-1,c=!0)}if(fe(o)){do{o=e.input.charCodeAt(++e.position)}while(fe(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!ce(o)&&0!==o)}for(;0!==o;){for(Ie(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!c||e.lineIndent<f)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>f&&(f=e.lineIndent),ce(o))p++;else{if(e.lineIndent<f){s===re?e.result+=u.repeat("\n",l?1+p:p):s===te&&l&&(e.result+="\n");break}for(r?fe(o)?(h=!0,e.result+=u.repeat("\n",l?1+p:p)):h?(h=!1,e.result+=u.repeat("\n",p+1)):0===p?l&&(e.result+=" "):e.result+=u.repeat("\n",p):e.result+=u.repeat("\n",l?1+p:p),l=!0,c=!0,p=0,n=e.position;!ce(o)&&0!==o;)o=e.input.charCodeAt(++e.position);Ee(e,n,e.position,!1)}}return!0}(e,p)||function(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Ee(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else ce(n)?(Ee(e,r,i,!0),$e(e,Se(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Re(e)?Ae(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ae(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var n,r,i,o,a,s,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return Ee(e,n,e.position,!0),e.position++,!0;if(92===s){if(Ee(e,n,e.position,!0),ce(s=e.input.charCodeAt(++e.position)))Se(e,!1,t);else if(s<256&&ye[s])e.result+=ve[s],e.position++;else if((a=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(i=a,o=0;i>0;i--)(a=de(s=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+a:Ae(e,"expected hexadecimal character");e.result+=ge(o),e.position++}else Ae(e,"unknown escape sequence");n=r=e.position}else ce(s)?(Ee(e,n,r,!0),$e(e,Se(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Re(e)?Ae(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ae(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?g=!0:!function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!pe(r)&&!he(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ae(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||Ae(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Se(e,!0,-1),!0}(e)?function(e,t,n){var r,i,o,a,s,u,l,c,f=e.kind,p=e.result;if(pe(c=e.input.charCodeAt(e.position))||he(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(pe(r=e.input.charCodeAt(e.position+1))||n&&he(r)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,a=!1;0!==c;){if(58===c){if(pe(r=e.input.charCodeAt(e.position+1))||n&&he(r))break}else if(35===c){if(pe(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Re(e)||n&&he(c))break;if(ce(c)){if(s=e.line,u=e.lineStart,l=e.lineIndent,Se(e,!1,-1),e.lineIndent>=t){a=!0,c=e.input.charCodeAt(e.position);continue}e.position=o,e.line=s,e.lineStart=u,e.lineIndent=l;break}}a&&(Ee(e,i,o,!1),$e(e,e.line-s),i=o=e.position,a=!1),fe(c)||(o=e.position+1),c=e.input.charCodeAt(++e.position)}return Ee(e,i,o,!1),!!e.result||(e.kind=f,e.result=p,!1)}(e,p,K===n)&&(g=!0,null===e.tag&&(e.tag="?")):(g=!0,null===e.tag&&null===e.anchor||Ae(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(g=s&&Pe(e,h))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(l=0,c=e.implicitTypes.length;l<c;l+=1)if((f=e.implicitTypes[l]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else V.call(e.typeMap[e.kind||"fallback"],e.tag)?(f=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&f.kind!==e.kind&&Ae(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result)?(e.result=f.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Ae(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):Ae(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function Ne(e){var t,n,r,i,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(Se(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(a=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!pe(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&Ae(e,"directive name must not be less than one character in length");0!==i;){for(;fe(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!ce(i));break}if(ce(i))break;for(t=e.position;0!==i&&!pe(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&Ie(e),V.call(ke,n)?ke[n](e,n,r):Oe(e,'unknown document directive "'+n+'"')}Se(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Se(e,!0,-1)):a&&Ae(e,"directives end mark is expected"),Me(e,e.lineIndent-1,ee,!1,!0),Se(e,!0,-1),e.checkLineBreaks&&oe.test(e.input.slice(o,e.position))&&Oe(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Re(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Se(e,!0,-1)):e.position<e.length-1&&Ae(e,"end of the stream or a document separator is expected")}function Fe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new we(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ne(n);return n.documents}function Le(e,t,n){var r,i,o=Fe(e,n);if("function"!=typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function He(e,t){var n=Fe(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new c("expected a single document in the stream, but found more")}}var De={loadAll:Le,load:He,safeLoadAll:function(e,t,n){if("function"!=typeof t)return Le(e,u.extend({schema:q},n));Le(e,t,u.extend({schema:q},n))},safeLoad:function(e,t){return He(e,u.extend({schema:q},t))}},Be=Object.prototype.toString,Ue=Object.prototype.hasOwnProperty,qe=9,Ge=10,Ye=32,ze=33,Je=34,Ze=35,We=37,Ve=38,Ke=39,Xe=42,Qe=44,et=45,tt=58,nt=62,rt=63,it=64,ot=91,at=93,st=96,ut=123,lt=124,ct=125,ft={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},pt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function ht(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new c("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+u.repeat("0",r-t.length)+t}function dt(e){this.schema=e.schema||W,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=u.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,o,a,s,u;if(null===t)return{};for(n={},i=0,o=(r=Object.keys(t)).length;i<o;i+=1)a=r[i],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=e.compiledTypeMap.fallback[a])&&Ue.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function mt(e,t){for(var n,r=u.repeat(" ",t),i=0,o=-1,a="",s=e.length;i<s;)-1===(o=e.indexOf("\n",i))?(n=e.slice(i),i=s):(n=e.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function gt(e,t){return"\n"+u.repeat(" ",e.indent*t)}function yt(e){return e===Ye||e===qe}function vt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function bt(e){return vt(e)&&65279!==e&&e!==Qe&&e!==ot&&e!==at&&e!==ut&&e!==ct&&e!==tt&&e!==Ze}function wt(e){return/^\n* /.test(e)}var xt=1,At=2,Ot=3,kt=4,Et=5;function Ct(e,t,n,r,i){var o,a,s,u=!1,l=!1,c=-1!==r,f=-1,p=vt(s=e.charCodeAt(0))&&65279!==s&&!yt(s)&&s!==et&&s!==rt&&s!==tt&&s!==Qe&&s!==ot&&s!==at&&s!==ut&&s!==ct&&s!==Ze&&s!==Ve&&s!==Xe&&s!==ze&&s!==lt&&s!==nt&&s!==Ke&&s!==Je&&s!==We&&s!==it&&s!==st&&!yt(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!vt(a=e.charCodeAt(o)))return Et;p=p&&bt(a)}else{for(o=0;o<e.length;o++){if((a=e.charCodeAt(o))===Ge)u=!0,c&&(l=l||o-f-1>r&&" "!==e[f+1],f=o);else if(!vt(a))return Et;p=p&&bt(a)}l=l||c&&o-f-1>r&&" "!==e[f+1]}return u||l?n>9&&wt(e)?Et:l?kt:Ot:p&&!i(e)?xt:At}function jt(e,t,n,r){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==pt.indexOf(t))return"'"+t+"'";var i=e.indent*Math.max(1,n),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=r||e.flowLevel>-1&&n>=e.flowLevel;switch(Ct(t,a,e.indent,o,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)})){case xt:return t;case At:return"'"+t.replace(/'/g,"''")+"'";case Ot:return"|"+It(t,e.indent)+St(mt(t,i));case kt:return">"+It(t,e.indent)+St(mt(function(e,t){var n,r,i=/(\n+)([^\n]*)/g,o=(s=e.indexOf("\n"),s=-1!==s?s:e.length,i.lastIndex=s,Rt(e.slice(0,s),t)),a="\n"===e[0]||" "===e[0];var s;for(;r=i.exec(e);){var u=r[1],l=r[2];n=" "===l[0],o+=u+(a||n||""===l?"":"\n")+Rt(l,t),a=n}return o}(t,o),i));case Et:return'"'+function(e){for(var t,n,r,i="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(n=e.charCodeAt(o+1))>=56320&&n<=57343?(i+=ht(1024*(t-55296)+n-56320+65536),o++):(r=ft[t],i+=!r&&vt(t)?e[o]:r||ht(t));return i}(t)+'"';default:throw new c("impossible error: invalid scalar style")}}()}function It(e,t){var n=wt(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function St(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Rt(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,a=0,s=0,u="";n=i.exec(e);)(s=n.index)-o>t&&(r=a>o?a:s,u+="\n"+e.slice(o,r),o=r+1),a=s;return u+="\n",e.length-o>t&&a>o?u+=e.slice(o,a)+"\n"+e.slice(a+1):u+=e.slice(o),u.slice(1)}function $t(e,t,n){var r,i,o,a,s,u;for(o=0,a=(i=n?e.explicitTypes:e.implicitTypes).length;o<a;o+=1)if(((s=i[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===Be.call(s.represent))r=s.represent(t,u);else{if(!Ue.call(s.represent,u))throw new c("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');r=s.represent[u](t,u)}e.dump=r}return!0}return!1}function Pt(e,t,n,r,i,o){e.tag=null,e.dump=n,$t(e,n,!1)||$t(e,n,!0);var a=Be.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var s,u,l="[object Object]"===a||"[object Array]"===a;if(l&&(u=-1!==(s=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&t>0)&&(i=!1),u&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(l&&u&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var i,o,a,s,u,l,f="",p=e.tag,h=Object.keys(n);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new c("sortKeys must be a boolean or a function");for(i=0,o=h.length;i<o;i+=1)l="",r&&0===i||(l+=gt(e,t)),s=n[a=h[i]],Pt(e,t+1,a,!0,!0,!0)&&((u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&Ge===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,u&&(l+=gt(e,t)),Pt(e,t+1,s,!0,u)&&(e.dump&&Ge===e.dump.charCodeAt(0)?l+=":":l+=": ",f+=l+=e.dump));e.tag=p,e.dump=f||"{}"}(e,t,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(!function(e,t,n){var r,i,o,a,s,u="",l=e.tag,c=Object.keys(n);for(r=0,i=c.length;r<i;r+=1)s=e.condenseFlow?'"':"",0!==r&&(s+=", "),a=n[o=c[r]],Pt(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Pt(e,t,a,!1,!1)&&(u+=s+=e.dump));e.tag=l,e.dump="{"+u+"}"}(e,t,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a){var f=e.noArrayIndent&&t>0?t-1:t;r&&0!==e.dump.length?(!function(e,t,n,r){var i,o,a="",s=e.tag;for(i=0,o=n.length;i<o;i+=1)Pt(e,t+1,n[i],!0,!0)&&(r&&0===i||(a+=gt(e,t)),e.dump&&Ge===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}(e,f,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(!function(e,t,n){var r,i,o="",a=e.tag;for(r=0,i=n.length;r<i;r+=1)Pt(e,t,n[r],!1,!1)&&(0!==r&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,f,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump))}else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new c("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&jt(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function _t(e,t){var n,r,i=[],o=[];for(function e(t,n,r){var i,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=n.indexOf(t)))-1===r.indexOf(o)&&r.push(o);else if(n.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],n,r);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)e(t[i[o]],n,r)}(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}function Tt(e,t){var n=new dt(t=t||{});return n.noRefs||_t(e,n),Pt(n,0,e,!0,!0)?n.dump+"\n":""}var Mt={dump:Tt,safeDump:function(e,t){return Tt(e,u.extend({schema:q},t))}};function Nt(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var Ft={Type:m,Schema:v,FAILSAFE_SCHEMA:b,JSON_SCHEMA:j,CORE_SCHEMA:I,DEFAULT_SAFE_SCHEMA:q,DEFAULT_FULL_SCHEMA:W,load:De.load,loadAll:De.loadAll,safeLoad:De.safeLoad,safeLoadAll:De.safeLoadAll,dump:Mt.dump,safeDump:Mt.safeDump,YAMLException:c,MINIMAL_SCHEMA:b,SAFE_SCHEMA:q,DEFAULT_SCHEMA:W,scan:Nt("scan"),parse:Nt("parse"),compose:Nt("compose"),addConstructor:Nt("addConstructor")};const Lt=["function","symbol","undefined"],Ht=["constructor","prototype","__proto__"],Dt=Object.getPrototypeOf({});function Bt(){let e={},t=this;for(let n of Ut(t))if("string"==typeof n){let r=t[n],i=typeof r;Lt.includes(i)||(e[n]=r)}return e}function Ut(e,t=[]){let n=[];for(;e&&e!==Dt;)n=n.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)),e=Object.getPrototypeOf(e);let r=new Set(n);for(let e of t.concat(Ht))r.delete(e);return r}const qt=e.inspect.custom||Symbol.for("nodejs.util.inspect.custom"),Gt=e.format;function Yt(e){e[qt]=zt}function zt(){let e={},t=this;for(let n of Ut(t)){let r=t[n];e[n]=r}return delete e[qt],e}const Jt=/\r?\n/,Zt=/\bono\b/,Wt=Boolean(Object.getOwnPropertyDescriptor&&Object.defineProperty&&("undefined"==typeof navigator||!/Android/.test(navigator.userAgent)));function Vt(e,t){let n=Xt(e.stack),r=t?t.stack:void 0;return n&&r?n+"\n\n"+r:n||r}function Kt(e,t){let n=Object.getOwnPropertyDescriptor(e,"stack");t&&n&&"function"==typeof n.get?Object.defineProperty(e,"stack",{get:()=>{return Vt({stack:n.get.apply(e)},t)},enumerable:!1,configurable:!0}):function(e){let t=Object.getOwnPropertyDescriptor(e,"stack");t&&"function"==typeof t.get&&Object.defineProperty(e,"stack",{get:()=>Xt(t.get.apply(e)),enumerable:!1,configurable:!0})}(e)}function Xt(e){if(void 0===e)return;let t=e.split(Jt);if(t.length<2)return e;for(let e=0;e<t.length;e++){let n=t[e];if(Zt.test(n))return t.splice(e,1),t.join("\n")}return e}const Qt=["name","message","stack"];function en(e,t,n){!function(e,t){!function(e){if(!Wt)return!1;let t=Object.getOwnPropertyDescriptor(e,"stack");return!!t&&"function"==typeof t.get}(e)?e.stack=Vt(e,t):Kt(e,t)}(e,t),t&&"object"==typeof t&&function(e,t){let n=Ut(t,Qt),r=e,i=t;for(let e of n)if(void 0===r[e])try{r[e]=i[e]}catch(e){}}(e,t),e.toJSON=Bt,Yt&&Yt(e),n&&"object"==typeof n&&Object.assign(e,n)}const tn=rn,nn=rn(Error);function rn(e){return function(...t){let n,r,i,o="";"string"==typeof t[0]?i=t:"string"==typeof t[1]?(t[0]instanceof Error?n=t[0]:r=t[0],i=t.slice(1)):(n=t[0],r=t[1],i=t.slice(2)),i.length>0&&(o=nn.formatter.apply(void 0,i)),n&&n.message&&(o+=(o?" \n":"")+n.message);let a=new e(o);return en(a,n,r),a}}nn.error=new tn(Error),nn.eval=new tn(EvalError),nn.range=new tn(RangeError),nn.reference=new tn(ReferenceError),nn.syntax=new tn(SyntaxError),nn.type=new tn(TypeError),nn.uri=new tn(URIError),nn.formatter=Gt,tn.toJSON=function(e){return Bt.call(e)},"object"==typeof module&&"object"==typeof module.exports&&(module.exports=Object.assign(module.exports.default,module.exports));var on="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function an(e,t){return e(t={exports:{}},t.exports),t.exports}var sn,un=(sn=Object.freeze({ono:nn,Ono:tn,default:nn}))&&sn.default||sn;const{ono:ln}=un;var cn={parse(e,t){try{return Ft.safeLoad(e)}catch(e){throw e instanceof Error?e:ln(e,e.message)}},stringify(e,t,n){try{let t=("string"==typeof n?n.length:n)||2;return Ft.safeDump(e,{indent:t})}catch(e){throw e instanceof Error?e:ln(e,e.message)}}},fn={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],parse:e=>new Promise((t,n)=>{let r=e.data;Buffer.isBuffer(r)&&(r=r.toString()),t("string"==typeof r?cn.parse(r):r)})};let pn=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;var hn={order:300,allowEmpty:!0,encoding:"utf8",canParse:e=>("string"==typeof e.data||Buffer.isBuffer(e.data))&&pn.test(e.url),parse(e){if("string"==typeof e.data)return e.data;if(Buffer.isBuffer(e.data))return e.data.toString(this.encoding);throw new Error("data is not text")}};let dn=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;var mn={order:400,allowEmpty:!0,canParse:e=>Buffer.isBuffer(e.data)&&dn.test(e.url),parse:e=>Buffer.isBuffer(e.data)?e.data:Buffer.from(e.data)},gn=an(function(e,t){let r=/^win/.test(process.platform),i=/\//g,o=/^(\w{2,}):\/\//i,a=e.exports,s=[/\?/g,"%3F",/\#/g,"%23"],u=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];t.parse=n.parse,t.resolve=n.resolve,t.cwd=function(){return process.browser?location.href:process.cwd()+"/"},t.getProtocol=function(e){let t=o.exec(e);if(t)return t[1].toLowerCase()},t.getExtension=function(e){let t=e.lastIndexOf(".");return t>=0?e.substr(t).toLowerCase():""},t.getHash=function(e){let t=e.indexOf("#");return t>=0?e.substr(t):"#"},t.stripHash=function(e){let t=e.indexOf("#");return t>=0&&(e=e.substr(0,t)),e},t.isHttp=function(e){let t=a.getProtocol(e);return"http"===t||"https"===t||void 0===t&&process.browser},t.isFileSystemPath=function(e){if(process.browser)return!1;let t=a.getProtocol(e);return void 0===t||"file"===t},t.fromFileSystemPath=function(e){r&&(e=e.replace(/\\/g,"/")),e=encodeURI(e);for(let t=0;t<s.length;t+=2)e=e.replace(s[t],s[t+1]);return e},t.toFileSystemPath=function(e,t){e=decodeURI(e);for(let t=0;t<u.length;t+=2)e=e.replace(u[t],u[t+1]);let n="file://"===e.substr(0,7).toLowerCase();return n&&(e="/"===e[7]?e.substr(8):e.substr(7),r&&"/"===e[1]&&(e=e[0]+":"+e.substr(1)),t?e="file:///"+e:(n=!1,e=r?e:"/"+e)),r&&!n&&":\\"===(e=e.replace(i,"\\")).substr(1,2)&&(e=e[0].toUpperCase()+e.substr(1)),e}});gn.parse,gn.resolve,gn.cwd,gn.getProtocol,gn.getExtension,gn.getHash,gn.stripHash,gn.isHttp,gn.isFileSystemPath,gn.fromFileSystemPath,gn.toFileSystemPath;const{ono:yn}=un;var vn={order:100,canRead:e=>gn.isFileSystemPath(e.url),read:e=>new Promise((n,r)=>{let i;try{i=gn.toFileSystemPath(e.url)}catch(t){r(yn.uri(t,`Malformed URI: ${e.url}`))}try{t.readFile(i,(e,t)=>{e?r(yn(e,`Error opening file "${i}"`)):n(t)})}catch(e){r(yn(e,`Error opening file "${i}"`))}})};const{ono:bn}=un;var wn={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead:e=>gn.isHttp(e.url),read(e){let t=gn.parse(e.url);return process.browser&&!t.protocol&&(t.protocol=gn.parse(location.href).protocol),function e(t,n,o){return new Promise((a,s)=>{t=gn.parse(t),(o=o||[]).push(t.href),function(e,t){return new Promise((n,o)=>{let a="https:"===e.protocol?i:r,s=a.get({hostname:e.hostname,port:e.port,path:e.path,auth:e.auth,protocol:e.protocol,headers:t.headers||{},withCredentials:t.withCredentials});"function"==typeof s.setTimeout&&s.setTimeout(t.timeout),s.on("timeout",()=>{s.abort()}),s.on("error",o),s.once("response",e=>{e.body=Buffer.alloc(0),e.on("data",t=>{e.body=Buffer.concat([e.body,Buffer.from(t)])}),e.on("error",o),e.on("end",()=>{n(e)})})})}(t,n).then(r=>{if(r.statusCode>=400)throw bn({status:r.statusCode},`HTTP ERROR ${r.statusCode}`);if(r.statusCode>=300)if(o.length>n.redirects)s(bn({status:r.statusCode},`Error downloading ${o[0]}. \nToo many redirects: \n  ${o.join(" \n  ")}`));else{if(!r.headers.location)throw bn({status:r.statusCode},`HTTP ${r.statusCode} redirect with no location header`);{let i=gn.resolve(t,r.headers.location);e(i,n,o).then(a,s)}}else a(r.body||Buffer.alloc(0))}).catch(e=>{s(bn(e,`Error downloading ${t.href}`))})})}(t,this)}};var xn=An;function An(e){On(this,An.defaults),On(this,e)}function On(e,t){if(kn(t)){let n=Object.keys(t);for(let r=0;r<n.length;r++){let i=n[r],o=t[i],a=e[i];kn(o)?e[i]=On(a||{},o):void 0!==o&&(e[i]=o)}}return e}function kn(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}An.defaults={parse:{json:a,yaml:fn,text:hn,binary:mn},resolve:{file:vn,http:wn,external:!0},dereference:{circular:!0}};var En=$n;const{ono:Cn}=un,jn=/\//g,In=/~/g,Sn=/~1/g,Rn=/~0/g;function $n(e,t,n){this.$ref=e,this.path=t,this.originalPath=n||t,this.value=void 0,this.circular=!1,this.indirections=0}function Pn(e,t){if(Tn.isAllowed$Ref(e.value,t)){let n=gn.resolve(e.path,e.value.$ref);if(n!==e.path){let r=e.$ref.$refs._resolve(n,t);return e.indirections+=r.indirections+1,Tn.isExtended$Ref(e.value)?(e.value=Tn.dereference(e.value,r.value),!1):(e.$ref=r.$ref,e.path=r.path,e.value=r.value,!0)}e.circular=!0}}function _n(e,t,n){if(!e.value||"object"!=typeof e.value)throw Cn.syntax(`Error assigning $ref pointer "${e.path}". \nCannot set "${t}" of a non-object.`);return"-"===t&&Array.isArray(e.value)?e.value.push(n):e.value[t]=n,n}$n.prototype.resolve=function(e,t){let n=$n.parse(this.path);this.value=e;for(let e=0;e<n.length;e++){Pn(this,t)&&(this.path=$n.join(this.path,n.slice(e)));let r=n[e];if(void 0===this.value[r])throw Cn.syntax(`Error resolving $ref pointer "${this.originalPath}". \nToken "${r}" does not exist.`);this.value=this.value[r]}return Pn(this,t),this},$n.prototype.set=function(e,t,n){let r,i=$n.parse(this.path);if(0===i.length)return this.value=t,t;this.value=e;for(let e=0;e<i.length-1;e++)Pn(this,n),r=i[e],this.value&&void 0!==this.value[r]?this.value=this.value[r]:this.value=_n(this,r,{});return Pn(this,n),_n(this,r=i[i.length-1],t),e},$n.parse=function(e){let t=gn.getHash(e).substr(1);if(!t)return[];t=t.split("/");for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e].replace(Sn,"/").replace(Rn,"~"));if(""!==t[0])throw Cn.syntax(`Invalid $ref pointer "${t}". Pointers must begin with "#/"`);return t.slice(1)},$n.join=function(e,t){-1===e.indexOf("#")&&(e+="#"),t=Array.isArray(t)?t:[t];for(let n=0;n<t.length;n++){let r=t[n];e+="/"+encodeURIComponent(r.replace(In,"~0").replace(jn,"~1"))}return e};var Tn=Mn;function Mn(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0}Mn.prototype.exists=function(e,t){try{return this.resolve(e,t),!0}catch(e){return!1}},Mn.prototype.get=function(e,t){return this.resolve(e,t).value},Mn.prototype.resolve=function(e,t,n){return new En(this,e,n).resolve(this.value,t)},Mn.prototype.set=function(e,t){let n=new En(this,e);this.value=n.set(this.value,t)},Mn.is$Ref=function(e){return e&&"object"==typeof e&&"string"==typeof e.$ref&&e.$ref.length>0},Mn.isExternal$Ref=function(e){return Mn.is$Ref(e)&&"#"!==e.$ref[0]},Mn.isAllowed$Ref=function(e,t){if(Mn.is$Ref(e)){if("#/"===e.$ref.substr(0,2)||"#"===e.$ref)return!0;if("#"!==e.$ref[0]&&(!t||t.resolve.external))return!0}},Mn.isExtended$Ref=function(e){return Mn.is$Ref(e)&&Object.keys(e).length>1},Mn.dereference=function(e,t){if(t&&"object"==typeof t&&Mn.isExtended$Ref(e)){let n={};for(let t of Object.keys(e))"$ref"!==t&&(n[t]=e[t]);for(let e of Object.keys(t))e in n||(n[e]=t[e]);return n}return t};const{ono:Nn}=un;var Fn=Ln;function Ln(){this.circular=!1,this._$refs={},this._root$Ref=null}function Hn(e,t){let n=Object.keys(e);return(t=Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t)).length>0&&t[0]&&(n=n.filter(n=>-1!==t.indexOf(e[n].pathType))),n.map(t=>({encoded:t,decoded:"file"===e[t].pathType?gn.toFileSystemPath(t,!0):t}))}Ln.prototype.paths=function(e){return Hn(this._$refs,arguments).map(e=>e.decoded)},Ln.prototype.values=function(e){let t=this._$refs;return Hn(t,arguments).reduce((e,n)=>(e[n.decoded]=t[n.encoded].value,e),{})},Ln.prototype.toJSON=Ln.prototype.values,Ln.prototype.exists=function(e,t){try{return this._resolve(e,t),!0}catch(e){return!1}},Ln.prototype.get=function(e,t){return this._resolve(e,t).value},Ln.prototype.set=function(e,t){let n=gn.resolve(this._root$Ref.path,e),r=gn.stripHash(n),i=this._$refs[r];if(!i)throw Nn(`Error resolving $ref pointer "${e}". \n"${r}" not found.`);i.set(n,t)},Ln.prototype._add=function(e){let t=gn.stripHash(e),n=new Tn;return n.path=t,n.$refs=this,this._$refs[t]=n,this._root$Ref=this._root$Ref||n,n},Ln.prototype._resolve=function(e,t){let n=gn.resolve(this._root$Ref.path,e),r=gn.stripHash(n),i=this._$refs[r];if(!i)throw Nn(`Error resolving $ref pointer "${e}". \n"${r}" not found.`);return i.resolve(n,t,e)},Ln.prototype._get$Ref=function(e){e=gn.resolve(this._root$Ref.path,e);let t=gn.stripHash(e);return this._$refs[t]};function Dn(e,t,n,r,i){let o=e[t];if("function"==typeof o)return o.apply(e,[n,r,i]);if(!r){if(o instanceof RegExp)return o.test(n.url);if("string"==typeof o)return o===n.extension;if(Array.isArray(o))return-1!==o.indexOf(n.extension)}return o}var Bn={all:function(e){return Object.keys(e).filter(t=>"object"==typeof e[t]).map(t=>(e[t].name=t,e[t]))},filter:function(e,t,n){return e.filter(e=>!!Dn(e,t,n))},sort:function(e){for(let t of e)t.order=t.order||Number.MAX_SAFE_INTEGER;return e.sort((e,t)=>e.order-t.order)},run:function(e,t,n,r){let i,o,a=0;return new Promise((s,u)=>{function l(){if(!(i=e[a++]))return u(o);try{let e=Dn(i,t,n,c,r);e&&"function"==typeof e.then?e.then(f,p):void 0!==e&&f(e)}catch(e){p(e)}}function c(e,t){e?p(e):f(t)}function f(e){s({plugin:i,result:e})}function p(e){o=e,l()}l()})}};const{ono:Un}=un;var qn=async function(e,t,n){try{e=gn.stripHash(e);let r=t._add(e),i={url:e,extension:gn.getExtension(e)};const o=await function(e,t,n){return new Promise((r,i)=>{let o=Bn.all(t.resolve);o=Bn.filter(o,"canRead",e),Bn.sort(o),Bn.run(o,"read",e,n).then(r,function(t){!t||t instanceof SyntaxError?i(Un.syntax(`Unable to resolve $ref pointer "${e.url}"`)):i(t)})})}(i,n,t);r.pathType=o.plugin.name,i.data=o.result;const a=await function(e,t,n){return new Promise((r,i)=>{let o=Bn.all(t.parse),a=Bn.filter(o,"canParse",e),s=a.length>0?a:o;Bn.sort(s),Bn.run(s,"parse",e,n).then(function(t){!t.plugin.allowEmpty&&(n=t.result,void 0===n||"object"==typeof n&&0===Object.keys(n).length||"string"==typeof n&&0===n.trim().length||Buffer.isBuffer(n)&&0===n.length)?i(Un.syntax(`Error parsing "${e.url}" as ${t.plugin.name}. \nParsed value is empty`)):r(t);var n},function(t){t?(t=t instanceof Error?t:new Error(t),i(Un.syntax(t,`Error parsing ${e.url}`))):i(Un.syntax(`Unable to parse ${e.url}`))})})}(i,n,t);return r.value=a.result,a.result}catch(e){return Promise.reject(e)}};var Gn=function(e){let t,n,r,i;"function"==typeof(e=Array.prototype.slice.call(e))[e.length-1]&&(i=e.pop());"string"==typeof e[0]?(t=e[0],"object"==typeof e[2]?(n=e[1],r=e[2]):(n=void 0,r=e[1])):(t="",n=e[0],r=e[1]);r instanceof xn||(r=new xn(r));return{path:t,schema:n,options:r,callback:i}};var Yn=function(e,t){if(!t.resolve.external)return Promise.resolve();try{let n=zn(e.schema,e.$refs._root$Ref.path+"#",e.$refs,t);return Promise.all(n)}catch(e){return Promise.reject(e)}};function zn(e,t,n,r){let i=[];if(e&&"object"==typeof e)if(Tn.isExternal$Ref(e))i.push(Jn(e,t,n,r));else for(let o of Object.keys(e)){let a=En.join(t,o),s=e[o];Tn.isExternal$Ref(s)?i.push(Jn(s,a,n,r)):i=i.concat(zn(s,a,n,r))}return i}async function Jn(e,t,n,r){let i=gn.resolve(t,e.$ref),o=gn.stripHash(i);if(e=n._$refs[o])return Promise.resolve(e.value);let a=zn(await qn(i,n,r),o+"#",n,r);return Promise.all(a)}var Zn=function(e,t){let n=[];Wn(e,"schema",e.$refs._root$Ref.path+"#","#",0,n,e.$refs,t),function(e){let t,n,r;e.sort((e,t)=>{if(e.file!==t.file)return e.file<t.file?-1:1;if(e.hash!==t.hash)return e.hash<t.hash?-1:1;if(e.circular!==t.circular)return e.circular?-1:1;if(e.extended!==t.extended)return e.extended?1:-1;if(e.indirections!==t.indirections)return e.indirections-t.indirections;if(e.depth!==t.depth)return e.depth-t.depth;{let n=e.pathFromRoot.lastIndexOf("/definitions"),r=t.pathFromRoot.lastIndexOf("/definitions");return n!==r?r-n:e.pathFromRoot.length-t.pathFromRoot.length}});for(let i of e)i.external?i.file===t&&i.hash===n?i.$ref.$ref=r:i.file===t&&0===i.hash.indexOf(n+"/")?i.$ref.$ref=En.join(r,En.parse(i.hash.replace(n,"#"))):(t=i.file,n=i.hash,r=i.pathFromRoot,i.$ref=i.parent[i.key]=Tn.dereference(i.$ref,i.value),i.circular&&(i.$ref.$ref=i.pathFromRoot)):i.$ref.$ref=i.hash}(n)};function Wn(e,t,n,r,i,o,a,s){let u=null===t?e:e[t];if(u&&"object"==typeof u)if(Tn.isAllowed$Ref(u))Vn(e,t,n,r,i,o,a,s);else{let e=Object.keys(u).sort((e,t)=>"definitions"===e?-1:"definitions"===t?1:e.length-t.length);for(let t of e){let e=En.join(n,t),l=En.join(r,t),c=u[t];Tn.isAllowed$Ref(c)?Vn(u,t,n,l,i,o,a,s):Wn(u,t,e,l,i,o,a,s)}}}function Vn(e,t,n,r,i,o,a,s){let u=null===t?e:e[t],l=gn.resolve(n,u.$ref),c=a._resolve(l,s),f=En.parse(r).length,p=gn.stripHash(c.path),h=gn.getHash(c.path),d=p!==a._root$Ref.path,m=Tn.isExtended$Ref(u);i+=c.indirections;let g=function(e,t,n){for(let r=0;r<e.length;r++){let i=e[r];if(i.parent===t&&i.key===n)return i}}(o,e,t);if(g){if(!(f<g.depth||i<g.indirections))return;!function(e,t){let n=e.indexOf(t);e.splice(n,1)}(o,g)}o.push({$ref:u,parent:e,key:t,pathFromRoot:r,depth:f,file:p,hash:h,value:c.value,circular:c.circular,extended:m,external:d,indirections:i}),Wn(c.value,null,c.path,r,i+1,o,a,s)}const{ono:Kn}=un;var Xn=function(e,t){let n=Qn(e.schema,e.$refs._root$Ref.path,"#",[],e.$refs,t);e.$refs.circular=n.circular,e.schema=n.value};function Qn(e,t,n,r,i,o){let a,s={value:e,circular:!1};if(e&&"object"==typeof e){if(r.push(e),Tn.isAllowed$Ref(e,o))a=er(e,t,n,r,i,o),s.circular=a.circular,s.value=a.value;else for(let u of Object.keys(e)){let l=En.join(t,u),c=En.join(n,u),f=e[u],p=!1;Tn.isAllowed$Ref(f,o)?(p=(a=er(f,l,c,r,i,o)).circular,e[u]=a.value):-1===r.indexOf(f)?(p=(a=Qn(f,l,c,r,i,o)).circular,e[u]=a.value):p=tr(l,i,o),s.circular=s.circular||p}r.pop()}return s}function er(e,t,n,r,i,o){let a=gn.resolve(t,e.$ref),s=i._resolve(a,o),u=s.circular,l=u||-1!==r.indexOf(s.value);l&&tr(t,i,o);let c=Tn.dereference(e,s.value);if(!l){let e=Qn(c,s.path,n,r,i,o);l=e.circular,c=e.value}return l&&!u&&"ignore"===o.dereference.circular&&(c=e),u&&(c.$ref=n),{circular:l,value:c}}function tr(e,t,n){if(t.circular=!0,!n.dereference.circular)throw Kn.reference(`Circular $ref pointer found at ${e}`);return!0}var nr=on.process&&process.nextTick||on.setImmediate||function(e){setTimeout(e,0)},rr=function(e,t){return e?void t.then(function(t){nr(function(){e(null,t)})},function(t){nr(function(){e(t)})}):t};const{ono:ir}=un;var or=sr,ar=cn;function sr(){this.schema=null,this.$refs=new Fn}sr.parse=function(e,t,n,r){let i=new this;return i.parse.apply(i,arguments)},sr.prototype.parse=async function(e,t,n,r){let i,o=Gn(arguments);if(!o.path&&!o.schema){let e=ir(`Expected a file path, URL, or object. Got ${o.path||o.schema}`);return rr(o.callback,Promise.reject(e))}this.schema=null,this.$refs=new Fn;let a="http";if(gn.isFileSystemPath(o.path)&&(o.path=gn.fromFileSystemPath(o.path),a="file"),o.path=gn.resolve(gn.cwd(),o.path),o.schema&&"object"==typeof o.schema){let e=this.$refs._add(o.path);e.value=o.schema,e.pathType=a,i=Promise.resolve(o.schema)}else i=qn(o.path,this.$refs,o.options);let s=this;try{let e=await i;if(!e||"object"!=typeof e||Buffer.isBuffer(e))throw ir.syntax(`"${s.$refs._root$Ref.path||e}" is not a valid JSON Schema`);return s.schema=e,rr(o.callback,Promise.resolve(s.schema))}catch(e){return rr(o.callback,Promise.reject(e))}},sr.resolve=function(e,t,n,r){let i=new this;return i.resolve.apply(i,arguments)},sr.prototype.resolve=async function(e,t,n,r){let i=this,o=Gn(arguments);try{return await this.parse(o.path,o.schema,o.options),await Yn(i,o.options),rr(o.callback,Promise.resolve(i.$refs))}catch(e){return rr(o.callback,Promise.reject(e))}},sr.bundle=function(e,t,n,r){let i=new this;return i.bundle.apply(i,arguments)},sr.prototype.bundle=async function(e,t,n,r){let i=this,o=Gn(arguments);try{return await this.resolve(o.path,o.schema,o.options),Zn(i,o.options),rr(o.callback,Promise.resolve(i.schema))}catch(e){return rr(o.callback,Promise.reject(e))}},sr.dereference=function(e,t,n,r){let i=new this;return i.dereference.apply(i,arguments)},sr.prototype.dereference=async function(e,t,n,r){let i=this,o=Gn(arguments);try{return await this.resolve(o.path,o.schema,o.options),Xn(i,o.options),rr(o.callback,Promise.resolve(i.schema))}catch(e){return rr(o.callback,Promise.reject(e))}},or.YAML=ar;var ur=function(){this.data={}};ur.prototype.unregister=function(e){e?delete this.data[e]:this.data={}},ur.prototype.register=function(e,t){this.data[e]=t},ur.prototype.registerMany=function(e){var t=this;Object.keys(e).forEach(function(n){t.data[n]=e[n]})},ur.prototype.get=function(e){return this.data[e]},ur.prototype.list=function(){return this.data};var lr={defaultInvalidTypeProduct:null,defaultRandExpMax:10,ignoreProperties:[],ignoreMissingRefs:!1,failOnInvalidTypes:!0,failOnInvalidFormat:!0,alwaysFakeOptionals:!1,optionalsProbability:!1,fixedProbabilities:!1,useExamplesValue:!1,useDefaultValue:!1,requiredOnly:!1,minItems:0,maxItems:null,minLength:0,maxLength:null,resolveJsonPath:!1,reuseProperties:!1,fillProperties:!0};lr.random=Math.random;var cr=new(function(e){function t(){e.call(this),this.data=Object.assign({},lr),this._defaults=lr}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaults:{configurable:!0}};return n.defaults.get=function(){return Object.assign({},this._defaults)},Object.defineProperties(t.prototype,n),t}(ur));function fr(e,t){return"string"==typeof e?void 0!==t?cr.register(e,t):cr.get(e):cr.registerMany(e)}fr.getDefaults=function(){return cr.defaults};var pr={ALL_TYPES:["array","object","integer","number","string","boolean","null"],MIN_NUMBER:-100,MAX_NUMBER:100,MIN_INTEGER:-1e8,MAX_INTEGER:1e8,MOST_NEAR_DATETIME:2524608e6},hr={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};const dr=()=>[{type:hr.RANGE,from:48,to:57}],mr=()=>[{type:hr.CHAR,value:95},{type:hr.RANGE,from:97,to:122},{type:hr.RANGE,from:65,to:90}].concat(dr()),gr=()=>[{type:hr.CHAR,value:9},{type:hr.CHAR,value:10},{type:hr.CHAR,value:11},{type:hr.CHAR,value:12},{type:hr.CHAR,value:13},{type:hr.CHAR,value:32},{type:hr.CHAR,value:160},{type:hr.CHAR,value:5760},{type:hr.RANGE,from:8192,to:8202},{type:hr.CHAR,value:8232},{type:hr.CHAR,value:8233},{type:hr.CHAR,value:8239},{type:hr.CHAR,value:8287},{type:hr.CHAR,value:12288},{type:hr.CHAR,value:65279}],yr=()=>[{type:hr.CHAR,value:10},{type:hr.CHAR,value:13},{type:hr.CHAR,value:8232},{type:hr.CHAR,value:8233}];var vr=()=>({type:hr.SET,set:mr(),not:!1}),br=()=>({type:hr.SET,set:mr(),not:!0}),wr=()=>({type:hr.SET,set:dr(),not:!1}),xr=()=>({type:hr.SET,set:dr(),not:!0}),Ar=()=>({type:hr.SET,set:gr(),not:!1}),Or=()=>({type:hr.SET,set:gr(),not:!0}),kr=()=>({type:hr.SET,set:yr(),not:!0}),Er=an(function(e,t){const n={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,function(e,t,r,i,o,a,s,u){if(r)return e;var l=t?8:i?parseInt(i,16):o?parseInt(o,16):a?parseInt(a,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):n[u],c=String.fromCharCode(l);return/[[\]{}^$.|?*+()]/.test(c)&&(c="\\"+c),c})},t.tokenizeClass=((e,n)=>{for(var r,i,o=[],a=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(r=a.exec(e));)if(r[1])o.push(vr());else if(r[2])o.push(wr());else if(r[3])o.push(Ar());else if(r[4])o.push(br());else if(r[5])o.push(xr());else if(r[6])o.push(Or());else if(r[7])o.push({type:hr.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else{if(!(i=r[12]))return[o,a.lastIndex];o.push({type:hr.CHAR,value:i.charCodeAt(0)})}t.error(n,"Unterminated character class")}),t.error=((e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)})}),Cr=(Er.strToChars,Er.tokenizeClass,Er.error,()=>({type:hr.POSITION,value:"b"})),jr=()=>({type:hr.POSITION,value:"B"}),Ir=()=>({type:hr.POSITION,value:"^"}),Sr=()=>({type:hr.POSITION,value:"$"}),Rr=e=>{var t,n,r=0,i={type:hr.ROOT,stack:[]},o=i,a=i.stack,s=[],u=t=>{Er.error(e,`Nothing to repeat at column ${t-1}`)},l=Er.strToChars(e);for(t=l.length;r<t;)switch(n=l[r++]){case"\\":switch(n=l[r++]){case"b":a.push(Cr());break;case"B":a.push(jr());break;case"w":a.push(vr());break;case"W":a.push(br());break;case"d":a.push(wr());break;case"D":a.push(xr());break;case"s":a.push(Ar());break;case"S":a.push(Or());break;default:/\d/.test(n)?a.push({type:hr.REFERENCE,value:parseInt(n,10)}):a.push({type:hr.CHAR,value:n.charCodeAt(0)})}break;case"^":a.push(Ir());break;case"$":a.push(Sr());break;case"[":var c;"^"===l[r]?(c=!0,r++):c=!1;var f=Er.tokenizeClass(l.slice(r),e);r+=f[1],a.push({type:hr.SET,set:f[0],not:c});break;case".":a.push(kr());break;case"(":var p={type:hr.GROUP,stack:[],remember:!0};"?"===(n=l[r])&&(n=l[r+1],r+=2,"="===n?p.followedBy=!0:"!"===n?p.notFollowedBy=!0:":"!==n&&Er.error(e,`Invalid group, character '${n}'`+` after '?' at column ${r-1}`),p.remember=!1),a.push(p),s.push(o),o=p,a=p.stack;break;case")":0===s.length&&Er.error(e,`Unmatched ) at column ${r-1}`),a=(o=s.pop()).options?o.options[o.options.length-1]:o.stack;break;case"|":o.options||(o.options=[o.stack],delete o.stack);var h=[];o.options.push(h),a=h;break;case"{":var d,m,g=/^(\d+)(,(\d+)?)?\}/.exec(l.slice(r));null!==g?(0===a.length&&u(r),d=parseInt(g[1],10),m=g[2]?g[3]?parseInt(g[3],10):1/0:d,r+=g[0].length,a.push({type:hr.REPETITION,min:d,max:m,value:a.pop()})):a.push({type:hr.CHAR,value:123});break;case"?":0===a.length&&u(r),a.push({type:hr.REPETITION,min:0,max:1,value:a.pop()});break;case"+":0===a.length&&u(r),a.push({type:hr.REPETITION,min:1,max:1/0,value:a.pop()});break;case"*":0===a.length&&u(r),a.push({type:hr.REPETITION,min:0,max:1/0,value:a.pop()});break;default:a.push({type:hr.CHAR,value:n.charCodeAt(0)})}return 0!==s.length&&Er.error(e,"Unterminated group"),i};class $r{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new $r(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new $r(this.low,e.low-1),new $r(e.high+1,this.high)]:e.low<=this.low?[new $r(e.high+1,this.high)]:[new $r(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class Pr{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var n=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;n.push(e),this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof Pr?e.ranges.forEach(n):(null==t&&(t=e),n(new $r(e,t))),this}subtract(e,t){var n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)n=n.concat(this.ranges[t].subtract(e)),t++;this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof Pr?e.ranges.forEach(n):(null==t&&(t=e),n(new $r(e,t))),this}intersect(e,t){var n=[],r=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var r=Math.max(this.ranges[t].low,e.low),i=Math.min(this.ranges[t].high,e.high);n.push(new $r(r,i)),t++}};return e instanceof Pr?e.ranges.forEach(r):(null==t&&(t=e),r(new $r(e,t))),this.ranges=n,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new Pr(this)}}var _r=Pr;const Tr=Rr.types=hr;var Mr=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=Rr(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var n,r,i,o,a;switch(e.type){case Tr.ROOT:case Tr.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),r="",o=0,a=(n=e.options?this._randSelect(e.options):e.stack).length;o<a;o++)r+=this._gen(n[o],t);return e.remember&&(t[e.groupNumber]=r),r;case Tr.POSITION:return"";case Tr.SET:var s=this._expand(e);return s.length?String.fromCharCode(this._randSelect(s)):"";case Tr.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),r="",o=0;o<i;o++)r+=this._gen(e.value,t);return r;case Tr.REFERENCE:return t[e.value-1]||"";case Tr.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof _r?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===Rr.types.CHAR)return new _r(e.value);if(e.type===Rr.types.RANGE)return new _r(e.from,e.to);{let t=new _r;for(let n=0;n<e.set.length;n++){let r=this._expand(e.set[n]);if(t.add(r),this.ignoreCase)for(let e=0;e<r.length;e++){let n=r.index(e),i=this._toOtherCase(n);n!==i&&t.add(i)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new _r(32,126)}set defaultRange(e){this._range=e}static randexp(t,n){var r;return"string"==typeof t&&(t=new RegExp(t,n)),void 0===t._randexp?(r=new e(t,n),t._randexp=r):(r=t._randexp)._setDefaults(t),r.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}};function Nr(e,t,n,r,i){return void 0===i&&(i=!1),n=void 0===n?pr.MIN_NUMBER:n,r=void 0===r?pr.MAX_NUMBER:r,(t=void 0===t?r:t)<(e=void 0===e?n:e)&&(t+=e),i?function(e,t){return fr("random")()*(t-e)+e}(e,t):function(e,t){return e=void 0===e?pr.MIN_INTEGER:e,t=void 0===t?pr.MAX_INTEGER:t,Math.floor(fr("random")()*(t-e+1))+e}(e,t)}var Fr={pick:function(e){return e[Math.floor(fr("random")()*e.length)]},date:function(e){if(e)return function(e){switch(e){case"seconds":return 60*Nr(0,60);case"minutes":return 612*Nr(15,50);case"hours":return 36123*Nr(12,72);case"days":return 86412345*Nr(7,30);case"weeks":return 604812345*Nr(4,52);case"months":return 2592012345*Nr(2,13);case"years":return 31104012345*Nr(1,20)}}(e);var t=new Date,n=Nr(-1e3,pr.MOST_NEAR_DATETIME);return t.setTime(t.getTime()-n),t},shuffle:function(e){for(var t,n,r=e.length,i=e.slice();r>0;)n=Math.floor(fr("random")()*r),t=i[r-=1],i[r]=i[n],i[n]=t;return i},number:Nr,randexp:function(e){return Mr.prototype.max=fr("defaultRandExpMax"),Mr.prototype.randInt=function(e,t){return e+Math.floor(fr("random")()*(t-e+1))},new Mr(e).gen()}};function Lr(e,t){return Object.keys(t).forEach(function(n){"object"!=typeof t[n]||null===t[n]?e[n]=t[n]:Array.isArray(t[n])?(e[n]=e[n]||[],t[n].forEach(function(t){-1===e[n].indexOf(t)&&e[n].push(t)})):"object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?e[n]=Lr({},t[n]):e[n]=Lr(e[n],t[n])}),e}function Hr(){return Fr.pick([!1,!0,null,-1,NaN,Math.PI,1/0,void 0,[],{},Math.random(),Math.random().toString(36).substr(2)])}var Dr={getSubAttribute:function(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!e[r])break;e=e[r]}return e},hasProperties:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.filter(function(t){return void 0!==e[t]}).length>0},omitProps:function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]instanceof Object?Lr({},e[r]):e[r])}),n},typecast:function(e,t,n){var r={};switch(e||t.type){case"integer":case"number":if(void 0!==t.minimum&&(r.minimum=t.minimum),void 0!==t.maximum&&(r.maximum=t.maximum),t.enum){var i=Math.max(r.minimum||0,0),o=Math.min(r.maximum||1/0,1/0);t.exclusiveMinimum&&i===t.minimum&&(i+=t.multipleOf||1),t.exclusiveMaximum&&o===t.maximum&&(o-=t.multipleOf||1),(i||o!==1/0)&&(t.enum=t.enum.filter(function(e){return e>=i&&e<=o}))}break;case"string":void 0!==t.minLength&&(r.minLength=t.minLength),void 0!==t.maxLength&&(r.maxLength=t.maxLength);var a=fr("maxLength"),s=fr("minLength");a&&r.maxLength>a&&(r.maxLength=a),s&&r.minLength<s&&(r.minLength=s)}var u=n(r);switch(e||t.type){case"number":u=parseFloat(u);break;case"integer":u=parseInt(u,10);break;case"boolean":u=!!u;break;case"string":u=String(u);for(var l=Math.max(r.minLength||0,0),c=Math.min(r.maxLength||1/0,1/0);u.length<l;)t.pattern?u+=Fr.randexp(t.pattern):u+=""+Fr.pick([" ","/","_","-","+","=","@","^"])+u;switch(u.length>c&&(u=u.substr(0,c)),t.format){case"date-time":case"datetime":u=new Date(u).toISOString().replace(/([0-9])0+Z$/,"$1Z");break;case"date":u=new Date(u).toISOString().substr(0,10);break;case"time":u=new Date("1969-01-01 "+u).toISOString().substr(11)}}return u},merge:Lr,clone:function(e){return JSON.parse(JSON.stringify(e))},short:function(e){var t=JSON.stringify(e),n=JSON.stringify(e,null,2);return t.length>400?n.substr(0,400)+"...":n},notValue:function(e,t){var n=Lr({},t);if(void 0!==e.minimum&&(n.maximum=e.minimum,n.exclusiveMaximum=!0),void 0!==e.maximum&&(n.minimum=e.maximum>n.maximum?0:e.maximum,n.exclusiveMinimum=!0),void 0!==e.minLength&&(n.maxLength=e.minLength),void 0!==e.maxLength&&(n.minLength=e.maxLength>n.maxLength?0:e.maxLength),e.type)n.type=Fr.pick(pr.ALL_TYPES.filter(function(t){return(Array.isArray(e.type)?e.type:[e.type]).every(function(e){return"number"===t||"integer"===t?"number"!==e&&"integer"!==e:t!==e})}));else if(e.enum){var r;do{r=Hr()}while(-1!==e.enum.indexOf(r));n.enum=[r]}return e.required&&n.properties&&e.required.forEach(function(e){delete n.properties[e]}),n},anyValue:Hr,validate:function(e,t){return!t.every(function(t){return void 0!==t.minimum&&e>=t.minimum||void 0!==t.maximum&&e<=t.maximum})},isKey:function(e){return-1!==["enum","const","default","examples","required","definitions"].indexOf(e)},template:function e(t,n){return Array.isArray(t)?t.map(function(t){return e(t,n)}):("string"==typeof t&&(t=t.replace(/#\{([\w.-]+)\}/g,function(e,t){return n[t]})),t)}};var Br=function(){this.registry={},this.support={}};Br.prototype.reset=function(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})},Br.prototype.extend=function(e,t){var n,r=this;this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=(n=function(){return r.registry[e]},function(e,t,r,i){var o=e,a=[];"object"==typeof e&&(o=Object.keys(e)[0],Array.isArray(e[o])?a=e[o]:a.push(e[o]));for(var s=o.split("."),u=n();s.length>1;)u=u[s.shift()];return"function"==typeof(e="object"==typeof u?u[s[0]]:u)&&(e=e.apply(u,a.map(function(e){return Dr.template(e,i)}))),"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach(function(t){if("function"==typeof e[t])throw new Error("Cannot resolve value for '"+r+": "+o+"', given: "+e)}),e}))},Br.prototype.define=function(e,t){this.support[e]=t},Br.prototype.get=function(e){if(void 0===this.registry[e])throw new ReferenceError("'"+e+"' dependency doesn't exist.");return this.registry[e]},Br.prototype.wrap=function(e){for(var t=this,n=Object.keys(e),r={},i=n.length,o=function(){var o=n[i].replace(/^x-/,""),a=t.support[o];if("function"==typeof a)return Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:function(t){return a.call(r,e[n[i]],e,n[i],t)}}),"break"};i--;){if("break"===o())break}return e};var Ur=new ur;function qr(e,t){if(void 0===e)return Ur.list();if("string"==typeof e)if("function"==typeof t)Ur.register(e,t);else{if(null!==t&&!1!==t)return Ur.get(e);Ur.unregister(e)}else Ur.registerMany(e)}var Gr=function(e){function t(t,n){e.call(this),e.captureStackTrace&&e.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=t,this.path=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Yr={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]};Yr.number=Yr.integer;var zr=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"];function Jr(e,t,n){return Object.keys(e).filter(function(e){var r=zr.indexOf(t)>-1;return!(!(n.indexOf(e)>-1)||r)}).length>0}var Zr=function(){return fr("random")()>.5};var Wr=function(){return null};function Vr(e){var t=void 0===e.minimum?pr.MIN_INTEGER:e.minimum,n=void 0===e.maximum?pr.MAX_INTEGER:e.maximum,r=e.multipleOf;if(r&&(n=Math.floor(n/r)*r,t=Math.ceil(t/r)*r),e.exclusiveMinimum&&t===e.minimum&&(t+=r||1),e.exclusiveMaximum&&n===e.maximum&&(n-=r||1),t>n)return NaN;if(r){if(-1===String(r).indexOf(".")){for(var i=Fr.number(Math.floor(t/r),Math.floor(n/r))*r;i<t;)i+=e.multipleOf;return i}var o,a,s=(n-t)/r;do{a=(o=Fr.number(0,s)*r)/r%1}while(0!==a);return o}return Fr.number(t,n,void 0,void 0,!0)}var Kr="Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore\net dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\ncommodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est\nlaborum".split(/\W/);function Xr(e){return Fr.shuffle(Kr).slice(0,e)}var Qr={type:["string","number","integer","boolean"]};function ei(){return Xr(Fr.number(1,5)).join(" ")}function ti(e,t){void 0===e&&(e=0),void 0===t&&(t=140);for(var n=Math.max(0,e),r=Fr.number(n,t),i=ei();i.length<n;)i+=ei();return i.length>r&&(i=i.substr(0,r)),i}function ni(){return Fr.date().toISOString()}var ri="https?://{hostname}(?:[a-zA-Z][a-zA-Z0-9+-.]*)+",ii={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:ri,slug:"[a-zA-Z\\d_-]+","uri-reference":ri+"(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?","uri-template":ri.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":"(/(?:"+"[a-zA-Z][a-zA-Z0-9+-.]*".replace("]*","/]*")+"|~[01]))+",uuid:"[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$"};ii.iri=ii["uri-reference"],ii["iri-reference"]=ii["uri-reference"],ii["idn-email"]=ii.email,ii["idn-hostname"]=ii.hostname;var oi=new RegExp("\\{("+Object.keys(ii).join("|")+")\\}");function ai(e,t){var n,r=qr(e.format);if("function"==typeof r)return r(e);switch(e.format){case"date-time":case"datetime":return ni();case"date":return ni().slice(0,10);case"time":return ni().slice(11);case"ipv4":return[0,0,0,0].map(function(){return Fr.number(0,255)}).join(".");case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"slug":case"uri-template":case"uuid":return n=e.format,Fr.randexp(ii[n]).replace(oi,function(e,t){return Fr.randexp(ii[t])});default:if(void 0===r){if(fr("failOnInvalidFormat"))throw new Error("unknown registry key "+Dr.short(e.format));return t()}throw new Error("unsupported format '"+e.format+"'")}}var si={boolean:Zr,null:Wr,array:function(e,t,n,r){var i=[];if(!e.items&&!e.additionalItems){if(Dr.hasProperties(e,"minItems","maxItems","uniqueItems"))throw new Gr("missing items for "+Dr.short(e),t);return i}if(Array.isArray(e.items))return e.items.map(function(e,i){var o=t.concat(["items",i]);return r(e,o,n)});var o=e.minItems,a=e.maxItems;fr("minItems")&&(o=a?Math.min(fr("minItems"),a):fr("minItems")),fr("maxItems")&&(a&&a>fr("maxItems")&&(a=fr("maxItems")),o&&o>fr("maxItems")&&(o=a));var s=!0===fr("alwaysFakeOptionals")?1:fr("optionalsProbability"),u=fr("alwaysFakeOptionals")||fr("fixedProbabilities")||!1,l=Fr.number(o,a,1,5);!1!==s&&(l=Math.max(u?Math.round((a||l)*s):Math.abs(Fr.number(o,a)*s),o||0));for(var c="object"==typeof e.additionalItems?e.additionalItems:{},f=i.length;f<l;f+=1){var p=t.concat(["items",f]),h=r(e.items||c,p,n);i.push(h)}return e.uniqueItems?function(e,t,n,r,i,o){var a=[],s=[];function u(e){var t=JSON.stringify(e);return-1===s.indexOf(t)&&(s.push(t),a.push(e),!0)}t.forEach(u);for(var l=100;a.length!==t.length&&(u(o(n.items||r,e,i))||(l-=1),l););return a}(t.concat(["items"]),i,e,c,n,r):i},integer:function(e){return Vr(Object.assign({multipleOf:1},e))},number:Vr,object:function(e,t,n,r){var i={},o=e.properties||{},a=e.patternProperties||{},s="boolean"==typeof e.required?[]:(e.required||[]).slice(),u=!1!==e.additionalProperties,l=Object.keys(o),c=Object.keys(a),f=l.concat(c).reduce(function(e,t){return-1===s.indexOf(t)&&e.push(t),e},[]),p=s.concat(f),h=u&&!0===e.additionalProperties?Qr:e.additionalProperties;if(!u&&0===l.length&&0===c.length&&Dr.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return{};if(!0===fr("requiredOnly"))return s.forEach(function(e){o[e]&&(i[e]=o[e])}),r(i,t.concat(["properties"]),n);var d=!0===fr("alwaysFakeOptionals")?1:fr("optionalsProbability"),m=fr("alwaysFakeOptionals")||fr("fixedProbabilities")||!1,g=fr("ignoreProperties")||[],y=Math.max(e.minProperties||0,s.length),v=e.maxProperties||p.length+Fr.number(1,5),b=Math.max(0,y-s.length);1!==p.length||s.length||(b=Fr.number(b,p.length+(p.length-y))),!1!==d&&(b=!0===m?Math.round(y-s.length+d*(p.length-y)):Fr.number(y-s.length,d*(p.length-y)));var w=Fr.shuffle(f).slice(0,b),x=f.filter(function(e){return-1!==w.indexOf(e)}),A=s.concat(x).slice(0,v),O=[];if(e.dependencies&&(Object.keys(e.dependencies).forEach(function(t){var n=e.dependencies[t];-1!==A.indexOf(t)&&(Array.isArray(n)?n.forEach(function(e){-1===A.indexOf(e)&&A.push(e)}):O.push(n))}),O.length))return delete e.dependencies,r({allOf:O.concat(e)},t.concat(["properties"]),n);var k=[];A.forEach(function(e){for(var t=0;t<g.length;t+=1)if(g[t]instanceof RegExp&&g[t].test(e)||"string"==typeof g[t]&&g[t]===e||"function"==typeof g[t]&&g[t](o[e],e))return void k.push(e);var n;if(!1===h&&-1!==s.indexOf(e)&&(i[e]=o[e]),o[e]&&(i[e]=o[e]),c.forEach(function(t){e.match(new RegExp(t))&&(n=!0,i[e]?Dr.merge(i[e],a[t]):i[Fr.randexp(e)]=a[t])}),!n){var r=a[e]||h;r&&!1!==h&&(i[a[e]?Fr.randexp(e):e]=o[e]||r)}});var E=fr("fillProperties"),C=fr("reuseProperties"),j=Object.keys(i).length+(E?0:k.length),I=function(e){return Fr.randexp("_?[_a-f\\d]{1,3}"+(e?"\\$?":""))};function S(){var e;do{e=s.shift()}while(i[e]);return e}for(;E&&(c.length||u)&&!(j>=y);){if(u)if(C&&l.length-j>y){var R=0,$=void 0;do{if((R+=1)>1e3)break;$=S()||Fr.pick(l)}while(void 0!==i[$]);void 0===i[$]&&(i[$]=o[$],j+=1)}else if(c.length&&!h){var P=Fr.pick(c),_=Fr.randexp(P);i[_]||(i[_]=a[P],j+=1)}else{var T=S()||Xr(1)+I();i[T]||(i[T]=h||Qr,j+=1)}for(var M=0;j<y&&M<c.length;M+=1){var N=c[M],F=Fr.randexp(N);i[F]||(i[F]=a[N],j+=1)}}for(var L=Fr.number(y,v);j<L&&h;){var H=Xr(1)+I(!0);i[H]||(i[H]=h,j+=1)}return r(i,t.concat(["properties"]),n)},string:function(e){return Dr.typecast("string",e,function(t){return e.format?ai(e,function(){return ti(t.minLength,t.maxLength)}):e.pattern?Fr.randexp(e.pattern):ti(t.minLength,t.maxLength)})}};function ui(e,t,n,r){if(e=n(e,void 0,t)){if("properties"!==t[t.length-1]){if(fr("useExamplesValue")&&Array.isArray(e.examples)){var i=e.examples.concat("default"in e?[e.default]:[]);return Dr.typecast(null,e,function(){return Fr.pick(i)})}if(fr("useDefaultValue")&&"default"in e)return e.default;if("template"in e)return Dr.template(e.template,r)}if(e.not&&"object"==typeof e.not&&(e=Dr.notValue(e.not,Dr.omitProps(e,["not"]))),"const"in e)return e.const;if(Array.isArray(e.enum))return Dr.typecast(null,e,function(){return Fr.pick(e.enum)});if("function"==typeof e.thunk)return ui(e.thunk(),t,n);if("function"==typeof e.generate)return Dr.typecast(null,e,function(){return e.generate(r)});if(e.jsonPath)return e;var o=e.type;if(Array.isArray(o)?o=Fr.pick(o):void 0===o&&(o=function(e,t){for(var n=Object.keys(Yr),r=0;r<n.length;r+=1){var i=n[r];if(Jr(e,t[t.length-1],Yr[i]))return i}}(e,t)||o)&&(e.type=o),"string"==typeof o){if(!si[o]){if(fr("failOnInvalidTypes"))throw new Gr("unknown primitive "+Dr.short(o),t.concat(["type"]));return fr("defaultInvalidTypeProduct")}try{return si[o](e,t,n,ui)}catch(e){if(void 0===e.path)throw new Gr(e.stack,t);throw e}}var a={};return Array.isArray(e)&&(a=[]),Object.keys(e).forEach(function(r){"object"==typeof e[r]&&"definitions"!==r?a[r]=ui(e[r],t.concat([r]),n,a):a[r]=e[r]}),a}}function li(e,t,n,r){if(!e||"object"!=typeof e)return e;if(n||(n={}),t||(t=e),Array.isArray(e))return e.map(function(e){return li(e,t,n,r)});if(e.jsonPath){var i="object"!=typeof e.jsonPath?{path:e.jsonPath}:e.jsonPath;i.group=e.group||i.group||r,i.cycle=e.cycle||i.cycle||!1,i.reverse=e.reverse||i.reverse||!1,i.count=e.count||i.count||1;var a=i.group+"__"+i.path;return n[a]||(i.count>1?n[a]=o.JSONPath(i.path,t).slice(0,i.count):n[a]=o.JSONPath(i.path,t)),i.cycle||i.reverse?function(e,t){if(!Array.isArray(e))return e;var n=t?e.pop():e.shift();return t?e.unshift(n):e.push(n),n}(n[a],i.reverse):function(e){return Array.isArray(e)?Fr.pick(e):e}(n[a])}return Object.keys(e).forEach(function(r){e[r]=li(e[r],t,n,r)}),e}function ci(e,t,n){try{var r=ui(Dr.clone(t),[],function r(i,o,a){if(void 0===o&&(o=Fr.number(1,3)),!i)return null;if("function"==typeof i.generate)return i;if("string"==typeof(i.$id||i.id)&&(delete i.id,delete i.$id,delete i.$schema),"string"==typeof i.$ref){if("#"===i.$ref)return delete i.$ref,i;var s;if(-1===i.$ref.indexOf("#/")&&(s=e[i.$ref]||null),0===i.$ref.indexOf("#/definitions/")&&(s=t.definitions[i.$ref.split("#/definitions/")[1]]||null),void 0!==s){if(!s&&!0!==fr("ignoreMissingRefs"))throw new Error("Reference not found: "+i.$ref);Dr.merge(i,s||{})}return delete i.$ref,i}if(Array.isArray(i.allOf)){var u=i.allOf;delete i.allOf,u.forEach(function(e){var t=r(e,o+1,a);Dr.merge(i,"function"==typeof t.thunk?t.thunk():t)})}if(Array.isArray(i.oneOf||i.anyOf)){var l=i.oneOf||i.anyOf;return i.enum&&i.oneOf&&(i.enum=i.enum.filter(function(e){return Dr.validate(e,l)})),{thunk:function(){var e=Dr.omitProps(i,["anyOf","oneOf"]),t=Fr.pick(l);return Dr.merge(e,t),i.oneOf&&l.forEach(function(n){n!==t&&n.required&&e.properties&&n.required.filter(function(e){return!(t.required||[]).includes(e)}).forEach(function(t){delete e.properties[t]})}),e}}}if(Object.keys(i).forEach(function(e){!Array.isArray(i[e])&&"object"!=typeof i[e]||Dr.isKey(e)||(i[e]=r(i[e],o,a.concat(e)))}),a){var c=a[a.length-1];if("properties"===c||"items"===c)return i}return n.wrap(i)});return fr("resolveJsonPath")?li(r):r}catch(e){throw e.path?new Error(e.message+" in /"+e.path.join("/")):e}}var fi=new Br;function pi(){fi.define("pattern",Fr.randexp),fi.define("autoIncrement",function(e,t){if(!this.offset){var n=t.minimum||1,r=n+pr.MAX_NUMBER,i=e.initialOffset||t.initialOffset;this.offset=i||Fr.number(n,r)}return!0===e?this.offset++:t}),fi.define("sequentialDate",function(e,t){if(this.now||(this.now=Fr.date()),e){if(t=this.now.toISOString(),-1===["seconds","minutes","hours","days","weeks","months","years"].indexOf(e=!0===e?"days":e))throw new Error("Unsupported increment by "+Dr.short(e));this.now.setTime(this.now.getTime()+Fr.date(e))}return t})}function hi(e){var t={};return Array.isArray(e)?e.forEach(function(e){t[e.$id||e.id]=e}):t=e||{},t}var di=function(e,t,n){return console.log("[json-schema-faker] calling JsonSchemaFaker() is deprecated, call either .generate() or .resolve()"),n&&console.log("[json-schema-faker] references are only supported by calling .resolve()"),di.generate(e,t)};return di.generate=function(e,t){return ci(hi(t),e,fi)},di.resolve=function(e,t,n){"string"==typeof t&&(n=t,t={}),n=(n=n||("undefined"!=typeof process?process.cwd():"")).replace(/\/+$/,"")+"/";var r=hi(t),i={order:300,canRead:!0,read:function(e,t){try{t(null,r[e.url]||r[e.url.split("/").pop()])}catch(e){t(e)}}};return or.dereference(n,e,{resolve:{file:{order:100},http:{order:200},fixedRefs:i},dereference:{circular:"ignore"}}).then(function(e){return ci(r,e,fi)})},pi(),di.format=qr,di.option=fr,di.random=Fr,di.extend=function(e,t){return fi.extend(e,t),di},di.define=function(e,t){return fi.define(e,t),di},di.reset=function(e){return fi.reset(e),pi(),di},di.locate=function(e){return fi.get(e)},di.version="0.5.0-rc23",di});
//# sourceMappingURL=index.umd.min.js.map
